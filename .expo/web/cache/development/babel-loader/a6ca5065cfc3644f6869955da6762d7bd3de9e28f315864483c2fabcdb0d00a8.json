{"ast":null,"code":"'use strict';\n\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _createForOfIteratorHelper(r, e) {\n  var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (!t) {\n    if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) {\n      t && (r = t);\n      var _n = 0,\n        F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          return _n >= r.length ? {\n            done: !0\n          } : {\n            done: !1,\n            value: r[_n++]\n          };\n        },\n        e: function e(r) {\n          throw r;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var o,\n    a = !0,\n    u = !1;\n  return {\n    s: function s() {\n      t = t.call(r);\n    },\n    n: function n() {\n      var r = t.next();\n      return a = r.done, r;\n    },\n    e: function e(r) {\n      u = !0, o = r;\n    },\n    f: function f() {\n      try {\n        a || null == t[\"return\"] || t[\"return\"]();\n      } finally {\n        if (u) throw o;\n      }\n    }\n  };\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nimport { AnimationsData } from \"../config.js\";\nvar ExitingFinalStep = 49;\nvar EnteringStartStep = 50;\nfunction addTransformToKeepPosition(keyframeStyleData, animationStyle, transformData, isExiting) {\n  for (var _i = 0, _Object$entries = Object.entries(animationStyle); _i < _Object$entries.length; _i++) {\n    var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n      timestamp = _Object$entries$_i[0],\n      styles = _Object$entries$_i[1];\n    if (styles.transform !== undefined) {\n      styles.transform.unshift(transformData);\n    } else {\n      styles.transform = [transformData];\n    }\n    var newTimestamp = parseInt(timestamp) / 2;\n    var index = isExiting ? Math.min(newTimestamp, ExitingFinalStep) : newTimestamp + EnteringStartStep;\n    keyframeStyleData[\"\".concat(index)] = styles;\n  }\n}\nfunction hideComponentBetweenAnimations(keyframeStyleData) {\n  var opacityInStep = new Map();\n  if (keyframeStyleData[0].opacity === undefined) {\n    opacityInStep.set(48, 1);\n    opacityInStep.set(49, 0);\n  }\n  if (keyframeStyleData[50].opacity === undefined) {\n    opacityInStep.set(50, 0);\n    opacityInStep.set(51, 1);\n  }\n  var _iterator = _createForOfIteratorHelper(opacityInStep),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _step$value = _slicedToArray(_step.value, 2),\n        step = _step$value[0],\n        opacity = _step$value[1];\n      keyframeStyleData[step] = _objectSpread(_objectSpread({}, keyframeStyleData[step]), {}, {\n        opacity: opacity\n      });\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n}\nexport function EntryExitTransition(name, transitionData) {\n  var exitingAnimationData = structuredClone(AnimationsData[transitionData.exiting]);\n  var enteringAnimationData = structuredClone(AnimationsData[transitionData.entering]);\n  var additionalExitingData = {\n    translateX: \"\".concat(transitionData.translateX, \"px\"),\n    translateY: \"\".concat(transitionData.translateY, \"px\"),\n    scale: \"\".concat(transitionData.scaleX, \",\").concat(transitionData.scaleY)\n  };\n  var additionalEnteringData = {\n    translateX: \"0px\",\n    translateY: \"0px\",\n    scale: \"1,1\"\n  };\n  var keyframeData = {\n    name: name,\n    style: {},\n    duration: 300\n  };\n  addTransformToKeepPosition(keyframeData.style, exitingAnimationData.style, additionalExitingData, true);\n  addTransformToKeepPosition(keyframeData.style, enteringAnimationData.style, additionalEnteringData, false);\n  hideComponentBetweenAnimations(keyframeData.style);\n  return keyframeData;\n}","map":{"version":3,"names":["_defineProperty","_slicedToArray","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","_createForOfIteratorHelper","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","_n","F","s","n","done","value","f","TypeError","a","u","call","next","_arrayLikeToArray","toString","slice","constructor","name","from","test","AnimationsData","ExitingFinalStep","EnteringStartStep","addTransformToKeepPosition","keyframeStyleData","animationStyle","transformData","isExiting","_i","_Object$entries","entries","_Object$entries$_i","timestamp","styles","transform","undefined","unshift","newTimestamp","parseInt","index","Math","min","concat","hideComponentBetweenAnimations","opacityInStep","Map","opacity","set","_iterator","_step","_step$value","step","err","EntryExitTransition","transitionData","exitingAnimationData","structuredClone","exiting","enteringAnimationData","entering","additionalExitingData","translateX","translateY","scale","scaleX","scaleY","additionalEnteringData","keyframeData","style","duration"],"sources":["C:\\Users\\adenk\\OneDrive - Toi Ohomai Institute of Technology\\Desktop\\test\\node_modules\\react-native-reanimated\\src\\layoutReanimation\\web\\transition\\EntryExit.web.ts"],"sourcesContent":["'use strict';\nimport type {\n  AnimationData,\n  AnimationStyle,\n  TransitionData,\n} from '../animationParser';\nimport { AnimationsData } from '../config';\n\nconst ExitingFinalStep = 49;\nconst EnteringStartStep = 50;\n\ntype TransformData = {\n  translateX: string;\n  translateY: string;\n  scale: string;\n};\n\n// Layout transitions on web work in \"reverse order\". It means that the element is rendered at its destination and then, at the beginning of the animation,\n// we move it back to its starting point.\n// This function is responsible for adding transition data into beginning of each keyframe step.\n// Doing so will ensure that the element will perform animation from correct position.\nfunction addTransformToKeepPosition(\n  keyframeStyleData: Record<number, AnimationStyle>,\n  animationStyle: Record<number, AnimationStyle>,\n  transformData: TransformData,\n  isExiting: boolean\n) {\n  for (const [timestamp, styles] of Object.entries(animationStyle)) {\n    if (styles.transform !== undefined) {\n      // If transform was defined, we want to put transform from transition at the beginning, hence we use `unshift`\n      styles.transform.unshift(transformData);\n    } else {\n      // If transform was undefined, we simply add transform from transition\n      styles.transform = [transformData];\n    }\n\n    const newTimestamp = parseInt(timestamp) / 2;\n    const index = isExiting\n      ? Math.min(newTimestamp, ExitingFinalStep) // We want to squeeze exiting animation from range 0-100 into range 0-49\n      : newTimestamp + EnteringStartStep; // Entering animation will start from 50 and go up to 100\n\n    keyframeStyleData[`${index}`] = styles;\n  }\n}\n\n// EntryExit transition consists of two animations - exiting and entering.\n// In Keyframes one cannot simply specify animation for given frame. Switching from one animation\n// to the other one between steps 49 and 50 may lead to flickers, since browser tries to interpolate\n// one step into the other. To avoid that, we set components' `opacity` to 0 right before switching animation\n// and set it again to 1 when component is in right position. Hiding component between animations\n// prevents flickers.\nfunction hideComponentBetweenAnimations(\n  keyframeStyleData: Record<number, AnimationStyle>\n) {\n  // We have to take into account that some animations have already defined `opacity`.\n  // In that case, we don't want to override it.\n  const opacityInStep = new Map<number, number>();\n\n  if (keyframeStyleData[0].opacity === undefined) {\n    opacityInStep.set(48, 1);\n    opacityInStep.set(49, 0);\n  }\n\n  if (keyframeStyleData[50].opacity === undefined) {\n    opacityInStep.set(50, 0);\n    opacityInStep.set(51, 1);\n  }\n\n  for (const [step, opacity] of opacityInStep) {\n    keyframeStyleData[step] = {\n      ...keyframeStyleData[step],\n      opacity,\n    };\n  }\n}\n\nexport function EntryExitTransition(\n  name: string,\n  transitionData: TransitionData\n) {\n  const exitingAnimationData = structuredClone(\n    AnimationsData[transitionData.exiting]\n  );\n  const enteringAnimationData = structuredClone(\n    AnimationsData[transitionData.entering]\n  );\n\n  const additionalExitingData: TransformData = {\n    translateX: `${transitionData.translateX}px`,\n    translateY: `${transitionData.translateY}px`,\n    scale: `${transitionData.scaleX},${transitionData.scaleY}`,\n  };\n\n  const additionalEnteringData: TransformData = {\n    translateX: `0px`,\n    translateY: `0px`,\n    scale: `1,1`,\n  };\n\n  const keyframeData: AnimationData = {\n    name,\n    style: {},\n    duration: 300,\n  };\n\n  addTransformToKeepPosition(\n    keyframeData.style,\n    exitingAnimationData.style,\n    additionalExitingData,\n    true\n  );\n\n  addTransformToKeepPosition(\n    keyframeData.style,\n    enteringAnimationData.style,\n    additionalEnteringData,\n    false\n  );\n\n  hideComponentBetweenAnimations(keyframeData.style);\n\n  return keyframeData;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}