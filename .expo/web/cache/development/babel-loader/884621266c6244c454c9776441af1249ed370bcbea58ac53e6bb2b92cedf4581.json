{"ast":null,"code":"'use strict';\n\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _createForOfIteratorHelper(r, e) {\n  var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (!t) {\n    if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) {\n      t && (r = t);\n      var _n = 0,\n        F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          return _n >= r.length ? {\n            done: !0\n          } : {\n            done: !1,\n            value: r[_n++]\n          };\n        },\n        e: function e(r) {\n          throw r;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var o,\n    a = !0,\n    u = !1;\n  return {\n    s: function s() {\n      t = t.call(r);\n    },\n    n: function n() {\n      var r = t.next();\n      return a = r.done, r;\n    },\n    e: function e(r) {\n      u = !0, o = r;\n    },\n    f: function f() {\n      try {\n        a || null == t[\"return\"] || t[\"return\"]();\n      } finally {\n        if (u) throw o;\n      }\n    }\n  };\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nfunction _callSuper(t, o, e) {\n  return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e));\n}\nfunction _isNativeReflectConstruct() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n  } catch (t) {}\n  return (_isNativeReflectConstruct = function _isNativeReflectConstruct() {\n    return !!t;\n  })();\n}\nfunction _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nimport React from 'react';\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport \"../layoutReanimation/animationsManager.js\";\nimport invariant from 'invariant';\nimport { adaptViewConfig } from \"../ConfigHelper.js\";\nimport { findHostInstance } from \"../platform-specific/findHostInstance\";\nimport { enableLayoutAnimations } from \"../core.js\";\nimport { SharedTransition, LayoutAnimationType } from \"../layoutReanimation/index.js\";\nimport { getShadowNodeWrapperFromRef } from \"../fabricUtils\";\nimport { removeFromPropsRegistry } from \"../PropsRegistry.js\";\nimport { getReduceMotionFromConfig } from \"../animation/util.js\";\nimport { maybeBuild } from \"../animationBuilder.js\";\nimport { SkipEnteringContext } from \"../component/LayoutAnimationConfig.js\";\nimport JSPropsUpdater from \"./JSPropsUpdater\";\nimport { flattenArray } from \"./utils.js\";\nimport setAndForwardRef from \"./setAndForwardRef.js\";\nimport { isFabric, isJest, isWeb, shouldBeUseWeb } from \"../PlatformChecker.js\";\nimport { InlinePropManager } from \"./InlinePropManager.js\";\nimport { PropsFilter } from \"./PropsFilter.js\";\nimport { startWebLayoutAnimation, tryActivateLayoutTransition, configureWebLayoutAnimations, getReducedMotionFromConfig, saveSnapshot } from \"../layoutReanimation/web/index.js\";\nimport { updateLayoutAnimations } from \"../UpdateLayoutAnimations.js\";\nimport { addHTMLMutationObserver } from \"../layoutReanimation/web/domUtils.js\";\nimport { getViewInfo } from \"./getViewInfo.js\";\nimport { NativeEventsManager } from \"./NativeEventsManager.js\";\nimport { ReanimatedError } from \"../errors.js\";\nvar IS_WEB = isWeb();\nvar IS_JEST = isJest();\nvar SHOULD_BE_USE_WEB = shouldBeUseWeb();\nif (IS_WEB) {\n  configureWebLayoutAnimations();\n}\nfunction onlyAnimatedStyles(styles) {\n  return styles.filter(function (style) {\n    return style === null || style === void 0 ? void 0 : style.viewDescriptors;\n  });\n}\nvar id = 0;\nexport function createAnimatedComponent(Component, options) {\n  invariant(typeof Component !== 'function' || Component.prototype && Component.prototype.isReactComponent, \"Looks like you're passing a function component `\".concat(Component.name, \"` to `createAnimatedComponent` function which supports only class components. Please wrap your function component with `React.forwardRef()` or use a class component instead.\"));\n  var AnimatedComponent = function (_React$Component) {\n    function AnimatedComponent(props) {\n      var _this;\n      _classCallCheck(this, AnimatedComponent);\n      _this = _callSuper(this, AnimatedComponent, [props]);\n      _defineProperty(_this, \"_styles\", null);\n      _defineProperty(_this, \"_isFirstRender\", true);\n      _defineProperty(_this, \"jestAnimatedStyle\", {\n        value: {}\n      });\n      _defineProperty(_this, \"_componentRef\", null);\n      _defineProperty(_this, \"_sharedElementTransition\", null);\n      _defineProperty(_this, \"_jsPropsUpdater\", new JSPropsUpdater());\n      _defineProperty(_this, \"_InlinePropManager\", new InlinePropManager());\n      _defineProperty(_this, \"_PropsFilter\", new PropsFilter());\n      _defineProperty(_this, \"reanimatedID\", id++);\n      _defineProperty(_this, \"_resolveComponentRef\", function (ref) {\n        var componentRef = ref;\n        if (componentRef && componentRef.getAnimatableRef) {\n          return componentRef.getAnimatableRef();\n        }\n        return componentRef;\n      });\n      _defineProperty(_this, \"_setComponentRef\", setAndForwardRef({\n        getForwardedRef: function getForwardedRef() {\n          return _this.props.forwardedRef;\n        },\n        setLocalRef: function setLocalRef(ref) {\n          if (!ref) {\n            return;\n          }\n          if (ref !== _this._componentRef) {\n            _this._componentRef = _this._resolveComponentRef(ref);\n            _this._viewInfo = undefined;\n          }\n          var tag = _this.getComponentViewTag();\n          var _this$props = _this.props,\n            layout = _this$props.layout,\n            entering = _this$props.entering,\n            exiting = _this$props.exiting,\n            sharedTransitionTag = _this$props.sharedTransitionTag;\n          if (layout || entering || exiting || sharedTransitionTag) {\n            var _this$context;\n            if (!SHOULD_BE_USE_WEB) {\n              enableLayoutAnimations(true, false);\n            }\n            if (sharedTransitionTag) {\n              _this._configureSharedTransition();\n            }\n            if (exiting && isFabric()) {\n              var reduceMotionInExiting = 'getReduceMotion' in exiting && typeof exiting.getReduceMotion === 'function' ? getReduceMotionFromConfig(exiting.getReduceMotion()) : getReduceMotionFromConfig();\n              if (!reduceMotionInExiting) {\n                var _this$props2;\n                updateLayoutAnimations(tag, LayoutAnimationType.EXITING, maybeBuild(exiting, (_this$props2 = _this.props) === null || _this$props2 === void 0 ? void 0 : _this$props2.style, AnimatedComponent.displayName));\n              }\n            }\n            var skipEntering = (_this$context = _this.context) === null || _this$context === void 0 ? void 0 : _this$context.current;\n            if (entering && !skipEntering && !IS_WEB) {\n              var _this$props3;\n              updateLayoutAnimations(tag, LayoutAnimationType.ENTERING, maybeBuild(entering, (_this$props3 = _this.props) === null || _this$props3 === void 0 ? void 0 : _this$props3.style, AnimatedComponent.displayName));\n            }\n          }\n        }\n      }));\n      if (IS_JEST) {\n        _this.jestAnimatedStyle = {\n          value: {}\n        };\n      }\n      var _entering = _this.props.entering;\n      if (_entering && isFabric()) {\n        var _this$props4;\n        updateLayoutAnimations(_this.reanimatedID, LayoutAnimationType.ENTERING, maybeBuild(_entering, (_this$props4 = _this.props) === null || _this$props4 === void 0 ? void 0 : _this$props4.style, AnimatedComponent.displayName));\n      }\n      return _this;\n    }\n    _inherits(AnimatedComponent, _React$Component);\n    return _createClass(AnimatedComponent, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this$_NativeEventsMa;\n        if (!IS_WEB) {\n          this._NativeEventsManager = new NativeEventsManager(this, options);\n        }\n        (_this$_NativeEventsMa = this._NativeEventsManager) === null || _this$_NativeEventsMa === void 0 || _this$_NativeEventsMa.attachEvents();\n        this._jsPropsUpdater.addOnJSPropsChangeListener(this);\n        this._attachAnimatedStyles();\n        this._InlinePropManager.attachInlineProps(this, this._getViewInfo());\n        var layout = this.props.layout;\n        if (layout) {\n          this._configureLayoutTransition();\n        }\n        if (IS_WEB) {\n          var _this$context2;\n          if (this.props.exiting) {\n            saveSnapshot(this._componentRef);\n          }\n          if (!this.props.entering || getReducedMotionFromConfig(this.props.entering)) {\n            this._isFirstRender = false;\n            return;\n          }\n          var skipEntering = (_this$context2 = this.context) === null || _this$context2 === void 0 ? void 0 : _this$context2.current;\n          if (!skipEntering) {\n            startWebLayoutAnimation(this.props, this._componentRef, LayoutAnimationType.ENTERING);\n          } else {\n            this._componentRef.style.visibility = 'initial';\n          }\n        }\n        this._isFirstRender = false;\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        var _this$_NativeEventsMa2, _this$_sharedElementT;\n        (_this$_NativeEventsMa2 = this._NativeEventsManager) === null || _this$_NativeEventsMa2 === void 0 || _this$_NativeEventsMa2.detachEvents();\n        this._jsPropsUpdater.removeOnJSPropsChangeListener(this);\n        this._detachStyles();\n        this._InlinePropManager.detachInlineProps();\n        if (this.props.sharedTransitionTag) {\n          this._configureSharedTransition(true);\n        }\n        (_this$_sharedElementT = this._sharedElementTransition) === null || _this$_sharedElementT === void 0 || _this$_sharedElementT.unregisterTransition(this.getComponentViewTag(), true);\n        var exiting = this.props.exiting;\n        if (IS_WEB && this._componentRef && exiting && !getReducedMotionFromConfig(exiting)) {\n          addHTMLMutationObserver();\n          startWebLayoutAnimation(this.props, this._componentRef, LayoutAnimationType.EXITING);\n        } else if (exiting && !IS_WEB && !isFabric()) {\n          var reduceMotionInExiting = 'getReduceMotion' in exiting && typeof exiting.getReduceMotion === 'function' ? getReduceMotionFromConfig(exiting.getReduceMotion()) : getReduceMotionFromConfig();\n          if (!reduceMotionInExiting) {\n            var _this$props5;\n            updateLayoutAnimations(this.getComponentViewTag(), LayoutAnimationType.EXITING, maybeBuild(exiting, (_this$props5 = this.props) === null || _this$props5 === void 0 ? void 0 : _this$props5.style, AnimatedComponent.displayName));\n          }\n        }\n      }\n    }, {\n      key: \"getComponentViewTag\",\n      value: function getComponentViewTag() {\n        return this._getViewInfo().viewTag;\n      }\n    }, {\n      key: \"_detachStyles\",\n      value: function _detachStyles() {\n        var viewTag = this.getComponentViewTag();\n        if (viewTag !== -1 && this._styles !== null) {\n          var _this$props$animatedP;\n          var _iterator = _createForOfIteratorHelper(this._styles),\n            _step;\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              var style = _step.value;\n              style.viewDescriptors.remove(viewTag);\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n          if ((_this$props$animatedP = this.props.animatedProps) !== null && _this$props$animatedP !== void 0 && _this$props$animatedP.viewDescriptors) {\n            this.props.animatedProps.viewDescriptors.remove(viewTag);\n          }\n          if (isFabric()) {\n            removeFromPropsRegistry(viewTag);\n          }\n        }\n      }\n    }, {\n      key: \"_updateFromNative\",\n      value: function _updateFromNative(props) {\n        if (options !== null && options !== void 0 && options.setNativeProps) {\n          options.setNativeProps(this._componentRef, props);\n        } else {\n          var _this$_componentRef, _this$_componentRef$s;\n          (_this$_componentRef = this._componentRef) === null || _this$_componentRef === void 0 || (_this$_componentRef$s = _this$_componentRef.setNativeProps) === null || _this$_componentRef$s === void 0 || _this$_componentRef$s.call(_this$_componentRef, props);\n        }\n      }\n    }, {\n      key: \"_getViewInfo\",\n      value: function _getViewInfo() {\n        if (this._viewInfo !== undefined) {\n          return this._viewInfo;\n        }\n        var viewTag;\n        var viewName;\n        var shadowNodeWrapper = null;\n        var viewConfig;\n        if (SHOULD_BE_USE_WEB) {\n          viewTag = this._componentRef;\n          viewName = null;\n          shadowNodeWrapper = null;\n          viewConfig = null;\n        } else {\n          var hostInstance = findHostInstance(this);\n          if (!hostInstance) {\n            throw new ReanimatedError('Cannot find host instance for this component. Maybe it renders nothing?');\n          }\n          var viewInfo = getViewInfo(hostInstance);\n          viewTag = viewInfo.viewTag;\n          viewName = viewInfo.viewName;\n          viewConfig = viewInfo.viewConfig;\n          shadowNodeWrapper = isFabric() ? getShadowNodeWrapperFromRef(this, hostInstance) : null;\n        }\n        this._viewInfo = {\n          viewTag: viewTag,\n          viewName: viewName,\n          shadowNodeWrapper: shadowNodeWrapper,\n          viewConfig: viewConfig\n        };\n        return this._viewInfo;\n      }\n    }, {\n      key: \"_attachAnimatedStyles\",\n      value: function _attachAnimatedStyles() {\n        var _this$props$animatedP2,\n          _this2 = this,\n          _this$props$animatedP3;\n        var styles = this.props.style ? onlyAnimatedStyles(flattenArray(this.props.style)) : [];\n        var prevStyles = this._styles;\n        this._styles = styles;\n        var prevAnimatedProps = this._animatedProps;\n        this._animatedProps = this.props.animatedProps;\n        var _this$_getViewInfo = this._getViewInfo(),\n          viewTag = _this$_getViewInfo.viewTag,\n          viewName = _this$_getViewInfo.viewName,\n          shadowNodeWrapper = _this$_getViewInfo.shadowNodeWrapper,\n          viewConfig = _this$_getViewInfo.viewConfig;\n        var hasReanimated2Props = ((_this$props$animatedP2 = this.props.animatedProps) === null || _this$props$animatedP2 === void 0 ? void 0 : _this$props$animatedP2.viewDescriptors) || styles.length;\n        if (hasReanimated2Props && viewConfig) {\n          adaptViewConfig(viewConfig);\n        }\n        if (prevStyles) {\n          var hasOneSameStyle = styles.length === 1 && prevStyles.length === 1 && styles[0] === prevStyles[0];\n          if (!hasOneSameStyle) {\n            var _iterator2 = _createForOfIteratorHelper(prevStyles),\n              _step2;\n            try {\n              var _loop = function _loop() {\n                var prevStyle = _step2.value;\n                var isPresent = styles.some(function (style) {\n                  return style === prevStyle;\n                });\n                if (!isPresent) {\n                  prevStyle.viewDescriptors.remove(viewTag);\n                }\n              };\n              for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                _loop();\n              }\n            } catch (err) {\n              _iterator2.e(err);\n            } finally {\n              _iterator2.f();\n            }\n          }\n        }\n        styles.forEach(function (style) {\n          style.viewDescriptors.add({\n            tag: viewTag,\n            name: viewName,\n            shadowNodeWrapper: shadowNodeWrapper\n          });\n          if (IS_JEST) {\n            _this2.jestAnimatedStyle.value = _objectSpread(_objectSpread({}, _this2.jestAnimatedStyle.value), style.initial.value);\n            style.jestAnimatedStyle.current = _this2.jestAnimatedStyle;\n          }\n        });\n        if (prevAnimatedProps && prevAnimatedProps !== this.props.animatedProps) {\n          prevAnimatedProps.viewDescriptors.remove(viewTag);\n        }\n        if ((_this$props$animatedP3 = this.props.animatedProps) !== null && _this$props$animatedP3 !== void 0 && _this$props$animatedP3.viewDescriptors) {\n          this.props.animatedProps.viewDescriptors.add({\n            tag: viewTag,\n            name: viewName,\n            shadowNodeWrapper: shadowNodeWrapper\n          });\n        }\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps, _prevState, snapshot) {\n        var _this$_NativeEventsMa3;\n        var layout = this.props.layout;\n        var oldLayout = prevProps.layout;\n        if (layout !== oldLayout) {\n          this._configureLayoutTransition();\n        }\n        if (this.props.sharedTransitionTag !== undefined || prevProps.sharedTransitionTag !== undefined) {\n          this._configureSharedTransition();\n        }\n        (_this$_NativeEventsMa3 = this._NativeEventsManager) === null || _this$_NativeEventsMa3 === void 0 || _this$_NativeEventsMa3.updateEvents(prevProps);\n        this._attachAnimatedStyles();\n        this._InlinePropManager.attachInlineProps(this, this._getViewInfo());\n        if (IS_WEB && this.props.exiting) {\n          saveSnapshot(this._componentRef);\n        }\n        if (IS_WEB && snapshot !== null && this.props.layout && !getReducedMotionFromConfig(this.props.layout)) {\n          tryActivateLayoutTransition(this.props, this._componentRef, snapshot);\n        }\n      }\n    }, {\n      key: \"_configureLayoutTransition\",\n      value: function _configureLayoutTransition() {\n        if (IS_WEB) {\n          return;\n        }\n        var layout = this.props.layout ? maybeBuild(this.props.layout, undefined, AnimatedComponent.displayName) : undefined;\n        updateLayoutAnimations(this.getComponentViewTag(), LayoutAnimationType.LAYOUT, layout);\n      }\n    }, {\n      key: \"_configureSharedTransition\",\n      value: function _configureSharedTransition() {\n        var _ref, _this$props$sharedTra;\n        var isUnmounting = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n        if (IS_WEB) {\n          return;\n        }\n        var sharedTransitionTag = this.props.sharedTransitionTag;\n        if (!sharedTransitionTag) {\n          var _this$_sharedElementT2;\n          (_this$_sharedElementT2 = this._sharedElementTransition) === null || _this$_sharedElementT2 === void 0 || _this$_sharedElementT2.unregisterTransition(this.getComponentViewTag(), isUnmounting);\n          this._sharedElementTransition = null;\n          return;\n        }\n        var sharedElementTransition = (_ref = (_this$props$sharedTra = this.props.sharedTransitionStyle) !== null && _this$props$sharedTra !== void 0 ? _this$props$sharedTra : this._sharedElementTransition) !== null && _ref !== void 0 ? _ref : new SharedTransition();\n        sharedElementTransition.registerTransition(this.getComponentViewTag(), sharedTransitionTag, isUnmounting);\n        this._sharedElementTransition = sharedElementTransition;\n      }\n    }, {\n      key: \"getSnapshotBeforeUpdate\",\n      value: function getSnapshotBeforeUpdate() {\n        var _this$_componentRef2;\n        if (IS_WEB && ((_this$_componentRef2 = this._componentRef) === null || _this$_componentRef2 === void 0 ? void 0 : _this$_componentRef2.getBoundingClientRect) !== undefined) {\n          return this._componentRef.getBoundingClientRect();\n        }\n        return null;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$context3;\n        var filteredProps = this._PropsFilter.filterNonAnimatedProps(this);\n        if (IS_JEST) {\n          filteredProps.jestAnimatedStyle = this.jestAnimatedStyle;\n        }\n        if (this._isFirstRender && IS_WEB && filteredProps.entering && !getReducedMotionFromConfig(filteredProps.entering)) {\n          var _filteredProps$style;\n          filteredProps.style = _objectSpread(_objectSpread({}, (_filteredProps$style = filteredProps.style) !== null && _filteredProps$style !== void 0 ? _filteredProps$style : {}), {}, {\n            visibility: 'hidden'\n          });\n        }\n        var platformProps = Platform.select({\n          web: {},\n          \"default\": {\n            collapsable: false\n          }\n        });\n        var skipEntering = (_this$context3 = this.context) === null || _this$context3 === void 0 ? void 0 : _this$context3.current;\n        var nativeID = skipEntering || !isFabric() ? undefined : \"\".concat(this.reanimatedID);\n        var jestProps = IS_JEST ? {\n          jestInlineStyle: this.props.style,\n          jestAnimatedStyle: this.jestAnimatedStyle\n        } : {};\n        return React.createElement(Component, _extends({\n          nativeID: nativeID\n        }, filteredProps, jestProps, {\n          ref: this._setComponentRef\n        }, platformProps));\n      }\n    }]);\n  }(React.Component);\n  _defineProperty(AnimatedComponent, \"contextType\", SkipEnteringContext);\n  AnimatedComponent.displayName = \"AnimatedComponent(\".concat(Component.displayName || Component.name || 'Component', \")\");\n  return React.forwardRef(function (props, ref) {\n    return React.createElement(AnimatedComponent, _extends({}, props, ref === null ? null : {\n      forwardedRef: ref\n    }));\n  });\n}","map":{"version":3,"names":["_classCallCheck","_createClass","_possibleConstructorReturn","_getPrototypeOf","_inherits","_defineProperty","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","_createForOfIteratorHelper","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","_n","F","s","n","done","value","f","TypeError","a","u","call","next","_arrayLikeToArray","toString","slice","constructor","name","from","test","_callSuper","_isNativeReflectConstruct","Reflect","construct","Boolean","prototype","valueOf","_extends","assign","bind","hasOwnProperty","React","Platform","invariant","adaptViewConfig","findHostInstance","enableLayoutAnimations","SharedTransition","LayoutAnimationType","getShadowNodeWrapperFromRef","removeFromPropsRegistry","getReduceMotionFromConfig","maybeBuild","SkipEnteringContext","JSPropsUpdater","flattenArray","setAndForwardRef","isFabric","isJest","isWeb","shouldBeUseWeb","InlinePropManager","PropsFilter","startWebLayoutAnimation","tryActivateLayoutTransition","configureWebLayoutAnimations","getReducedMotionFromConfig","saveSnapshot","updateLayoutAnimations","addHTMLMutationObserver","getViewInfo","NativeEventsManager","ReanimatedError","IS_WEB","IS_JEST","SHOULD_BE_USE_WEB","onlyAnimatedStyles","styles","style","viewDescriptors","id","createAnimatedComponent","Component","options","isReactComponent","concat","AnimatedComponent","_React$Component","props","_this","ref","componentRef","getAnimatableRef","getForwardedRef","forwardedRef","setLocalRef","_componentRef","_resolveComponentRef","_viewInfo","undefined","tag","getComponentViewTag","_this$props","layout","entering","exiting","sharedTransitionTag","_this$context","_configureSharedTransition","reduceMotionInExiting","getReduceMotion","_this$props2","EXITING","displayName","skipEntering","context","current","_this$props3","ENTERING","jestAnimatedStyle","_entering","_this$props4","reanimatedID","key","componentDidMount","_this$_NativeEventsMa","_NativeEventsManager","attachEvents","_jsPropsUpdater","addOnJSPropsChangeListener","_attachAnimatedStyles","_InlinePropManager","attachInlineProps","_getViewInfo","_configureLayoutTransition","_this$context2","_isFirstRender","visibility","componentWillUnmount","_this$_NativeEventsMa2","_this$_sharedElementT","detachEvents","removeOnJSPropsChangeListener","_detachStyles","detachInlineProps","_sharedElementTransition","unregisterTransition","_this$props5","viewTag","_styles","_this$props$animatedP","_iterator","_step","remove","err","animatedProps","_updateFromNative","setNativeProps","_this$_componentRef","_this$_componentRef$s","viewName","shadowNodeWrapper","viewConfig","hostInstance","viewInfo","_this$props$animatedP2","_this2","_this$props$animatedP3","prevStyles","prevAnimatedProps","_animatedProps","_this$_getViewInfo","hasReanimated2Props","hasOneSameStyle","_iterator2","_step2","_loop","prevStyle","isPresent","some","add","initial","componentDidUpdate","prevProps","_prevState","snapshot","_this$_NativeEventsMa3","oldLayout","updateEvents","LAYOUT","_ref","_this$props$sharedTra","isUnmounting","_this$_sharedElementT2","sharedElementTransition","sharedTransitionStyle","registerTransition","getSnapshotBeforeUpdate","_this$_componentRef2","getBoundingClientRect","render","_this$context3","filteredProps","_PropsFilter","filterNonAnimatedProps","_filteredProps$style","platformProps","select","web","collapsable","nativeID","jestProps","jestInlineStyle","createElement","_setComponentRef","forwardRef"],"sources":["C:\\Users\\adenk\\OneDrive - Toi Ohomai Institute of Technology\\Desktop\\test\\node_modules\\react-native-reanimated\\src\\createAnimatedComponent\\createAnimatedComponent.tsx"],"sourcesContent":["'use strict';\nimport type {\n  Component,\n  ComponentClass,\n  ComponentType,\n  FunctionComponent,\n  MutableRefObject,\n} from 'react';\nimport React from 'react';\nimport { Platform } from 'react-native';\nimport '../layoutReanimation/animationsManager';\nimport invariant from 'invariant';\nimport { adaptViewConfig } from '../ConfigHelper';\nimport { findHostInstance } from '../platform-specific/findHostInstance';\nimport { enableLayoutAnimations } from '../core';\nimport { SharedTransition, LayoutAnimationType } from '../layoutReanimation';\nimport type { StyleProps, ShadowNodeWrapper } from '../commonTypes';\nimport { getShadowNodeWrapperFromRef } from '../fabricUtils';\nimport { removeFromPropsRegistry } from '../PropsRegistry';\nimport { getReduceMotionFromConfig } from '../animation/util';\nimport { maybeBuild } from '../animationBuilder';\nimport { SkipEnteringContext } from '../component/LayoutAnimationConfig';\nimport type { AnimateProps } from '../helperTypes';\nimport JSPropsUpdater from './JSPropsUpdater';\nimport type {\n  AnimatedComponentProps,\n  AnimatedProps,\n  InitialComponentProps,\n  AnimatedComponentRef,\n  IAnimatedComponentInternal,\n  ViewInfo,\n  INativeEventsManager,\n  NestedArray,\n} from './commonTypes';\nimport { flattenArray } from './utils';\nimport setAndForwardRef from './setAndForwardRef';\nimport { isFabric, isJest, isWeb, shouldBeUseWeb } from '../PlatformChecker';\nimport { InlinePropManager } from './InlinePropManager';\nimport { PropsFilter } from './PropsFilter';\nimport {\n  startWebLayoutAnimation,\n  tryActivateLayoutTransition,\n  configureWebLayoutAnimations,\n  getReducedMotionFromConfig,\n  saveSnapshot,\n} from '../layoutReanimation/web';\nimport { updateLayoutAnimations } from '../UpdateLayoutAnimations';\nimport type { CustomConfig } from '../layoutReanimation/web/config';\nimport type { FlatList, FlatListProps } from 'react-native';\nimport { addHTMLMutationObserver } from '../layoutReanimation/web/domUtils';\nimport { getViewInfo } from './getViewInfo';\nimport { NativeEventsManager } from './NativeEventsManager';\nimport type { ReanimatedHTMLElement } from '../js-reanimated';\nimport { ReanimatedError } from '../errors';\n\nconst IS_WEB = isWeb();\nconst IS_JEST = isJest();\nconst SHOULD_BE_USE_WEB = shouldBeUseWeb();\n\nif (IS_WEB) {\n  configureWebLayoutAnimations();\n}\n\nfunction onlyAnimatedStyles(styles: StyleProps[]): StyleProps[] {\n  return styles.filter((style) => style?.viewDescriptors);\n}\n\ntype Options<P> = {\n  setNativeProps: (ref: AnimatedComponentRef, props: P) => void;\n};\n\n/**\n * Lets you create an Animated version of any React Native component.\n *\n * @param component - The component you want to make animatable.\n * @returns A component that Reanimated is capable of animating.\n * @see https://docs.swmansion.com/react-native-reanimated/docs/core/createAnimatedComponent\n */\n\n// Don't change the order of overloads, since such a change breaks current behavior\nexport function createAnimatedComponent<P extends object>(\n  component: FunctionComponent<P>,\n  options?: Options<P>\n): FunctionComponent<AnimateProps<P>>;\n\nexport function createAnimatedComponent<P extends object>(\n  component: ComponentClass<P>,\n  options?: Options<P>\n): ComponentClass<AnimateProps<P>>;\n\nexport function createAnimatedComponent<P extends object>(\n  // Actually ComponentType<P = {}> = ComponentClass<P> | FunctionComponent<P> but we need this overload too\n  // since some external components (like FastImage) are typed just as ComponentType\n  component: ComponentType<P>,\n  options?: Options<P>\n): FunctionComponent<AnimateProps<P>> | ComponentClass<AnimateProps<P>>;\n\n/**\n * @deprecated Please use `Animated.FlatList` component instead of calling\n *   `Animated.createAnimatedComponent(FlatList)` manually.\n */\n// @ts-ignore This is required to create this overload, since type of createAnimatedComponent is incorrect and doesn't include typeof FlatList\nexport function createAnimatedComponent(\n  component: typeof FlatList<unknown>,\n  options?: Options<any>\n): ComponentClass<AnimateProps<FlatListProps<unknown>>>;\n\nlet id = 0;\n\nexport function createAnimatedComponent(\n  Component: ComponentType<InitialComponentProps>,\n  options?: Options<InitialComponentProps>\n): any {\n  invariant(\n    typeof Component !== 'function' ||\n      (Component.prototype && Component.prototype.isReactComponent),\n    `Looks like you're passing a function component \\`${Component.name}\\` to \\`createAnimatedComponent\\` function which supports only class components. Please wrap your function component with \\`React.forwardRef()\\` or use a class component instead.`\n  );\n\n  class AnimatedComponent\n    extends React.Component<AnimatedComponentProps<InitialComponentProps>>\n    implements IAnimatedComponentInternal\n  {\n    _styles: StyleProps[] | null = null;\n    _animatedProps?: Partial<AnimatedComponentProps<AnimatedProps>>;\n    _isFirstRender = true;\n    jestInlineStyle: NestedArray<StyleProps> | undefined;\n    jestAnimatedStyle: { value: StyleProps } = { value: {} };\n    _componentRef: AnimatedComponentRef | HTMLElement | null = null;\n    _sharedElementTransition: SharedTransition | null = null;\n    _jsPropsUpdater = new JSPropsUpdater();\n    _InlinePropManager = new InlinePropManager();\n    _PropsFilter = new PropsFilter();\n    _NativeEventsManager?: INativeEventsManager;\n    _viewInfo?: ViewInfo;\n    static displayName: string;\n    static contextType = SkipEnteringContext;\n    context!: React.ContextType<typeof SkipEnteringContext>;\n    reanimatedID = id++;\n\n    constructor(props: AnimatedComponentProps<InitialComponentProps>) {\n      super(props);\n      if (IS_JEST) {\n        this.jestAnimatedStyle = { value: {} };\n      }\n      const entering = this.props.entering;\n      if (entering && isFabric()) {\n        updateLayoutAnimations(\n          this.reanimatedID,\n          LayoutAnimationType.ENTERING,\n          maybeBuild(entering, this.props?.style, AnimatedComponent.displayName)\n        );\n      }\n    }\n\n    componentDidMount() {\n      if (!IS_WEB) {\n        // It exists only on native platforms. We initialize it here because the ref to the animated component is available only post-mount\n        this._NativeEventsManager = new NativeEventsManager(this, options);\n      }\n      this._NativeEventsManager?.attachEvents();\n      this._jsPropsUpdater.addOnJSPropsChangeListener(this);\n      this._attachAnimatedStyles();\n      this._InlinePropManager.attachInlineProps(this, this._getViewInfo());\n\n      const layout = this.props.layout;\n      if (layout) {\n        this._configureLayoutTransition();\n      }\n\n      if (IS_WEB) {\n        if (this.props.exiting) {\n          saveSnapshot(this._componentRef as HTMLElement);\n        }\n\n        if (\n          !this.props.entering ||\n          getReducedMotionFromConfig(this.props.entering as CustomConfig)\n        ) {\n          this._isFirstRender = false;\n          return;\n        }\n\n        const skipEntering = this.context?.current;\n\n        if (!skipEntering) {\n          startWebLayoutAnimation(\n            this.props,\n            this._componentRef as ReanimatedHTMLElement,\n            LayoutAnimationType.ENTERING\n          );\n        } else {\n          (this._componentRef as HTMLElement).style.visibility = 'initial';\n        }\n      }\n\n      this._isFirstRender = false;\n    }\n\n    componentWillUnmount() {\n      this._NativeEventsManager?.detachEvents();\n      this._jsPropsUpdater.removeOnJSPropsChangeListener(this);\n      this._detachStyles();\n      this._InlinePropManager.detachInlineProps();\n      if (this.props.sharedTransitionTag) {\n        this._configureSharedTransition(true);\n      }\n      this._sharedElementTransition?.unregisterTransition(\n        this.getComponentViewTag(),\n        true\n      );\n\n      const exiting = this.props.exiting;\n\n      if (\n        IS_WEB &&\n        this._componentRef &&\n        exiting &&\n        !getReducedMotionFromConfig(exiting as CustomConfig)\n      ) {\n        addHTMLMutationObserver();\n\n        startWebLayoutAnimation(\n          this.props,\n          this._componentRef as ReanimatedHTMLElement,\n          LayoutAnimationType.EXITING\n        );\n      } else if (exiting && !IS_WEB && !isFabric()) {\n        const reduceMotionInExiting =\n          'getReduceMotion' in exiting &&\n          typeof exiting.getReduceMotion === 'function'\n            ? getReduceMotionFromConfig(exiting.getReduceMotion())\n            : getReduceMotionFromConfig();\n        if (!reduceMotionInExiting) {\n          updateLayoutAnimations(\n            this.getComponentViewTag(),\n            LayoutAnimationType.EXITING,\n            maybeBuild(\n              exiting,\n              this.props?.style,\n              AnimatedComponent.displayName\n            )\n          );\n        }\n      }\n    }\n\n    getComponentViewTag() {\n      return this._getViewInfo().viewTag as number;\n    }\n\n    _detachStyles() {\n      const viewTag = this.getComponentViewTag();\n      if (viewTag !== -1 && this._styles !== null) {\n        for (const style of this._styles) {\n          style.viewDescriptors.remove(viewTag);\n        }\n        if (this.props.animatedProps?.viewDescriptors) {\n          this.props.animatedProps.viewDescriptors.remove(viewTag);\n        }\n        if (isFabric()) {\n          removeFromPropsRegistry(viewTag);\n        }\n      }\n    }\n\n    _updateFromNative(props: StyleProps) {\n      if (options?.setNativeProps) {\n        options.setNativeProps(\n          this._componentRef as AnimatedComponentRef,\n          props\n        );\n      } else {\n        (this._componentRef as AnimatedComponentRef)?.setNativeProps?.(props);\n      }\n    }\n\n    _getViewInfo(): ViewInfo {\n      if (this._viewInfo !== undefined) {\n        return this._viewInfo;\n      }\n\n      let viewTag: number | HTMLElement | null;\n      let viewName: string | null;\n      let shadowNodeWrapper: ShadowNodeWrapper | null = null;\n      let viewConfig;\n\n      if (SHOULD_BE_USE_WEB) {\n        // At this point I assume that `_setComponentRef` was already called and `_component` is set.\n        // `this._component` on web represents HTMLElement of our component, that's why we use casting\n        viewTag = this._componentRef as HTMLElement;\n        viewName = null;\n        shadowNodeWrapper = null;\n        viewConfig = null;\n      } else {\n        const hostInstance = findHostInstance(this);\n        if (!hostInstance) {\n          /* \n            findHostInstance can return null for a component that doesn't render anything \n            (render function returns null). Example: \n            svg Stop: https://github.com/react-native-svg/react-native-svg/blob/develop/src/elements/Stop.tsx\n          */\n          throw new ReanimatedError(\n            'Cannot find host instance for this component. Maybe it renders nothing?'\n          );\n        }\n\n        const viewInfo = getViewInfo(hostInstance);\n        viewTag = viewInfo.viewTag;\n        viewName = viewInfo.viewName;\n        viewConfig = viewInfo.viewConfig;\n        shadowNodeWrapper = isFabric()\n          ? getShadowNodeWrapperFromRef(this, hostInstance)\n          : null;\n      }\n      this._viewInfo = { viewTag, viewName, shadowNodeWrapper, viewConfig };\n      return this._viewInfo;\n    }\n\n    _attachAnimatedStyles() {\n      const styles = this.props.style\n        ? onlyAnimatedStyles(flattenArray<StyleProps>(this.props.style))\n        : [];\n      const prevStyles = this._styles;\n      this._styles = styles;\n\n      const prevAnimatedProps = this._animatedProps;\n      this._animatedProps = this.props.animatedProps;\n\n      const { viewTag, viewName, shadowNodeWrapper, viewConfig } =\n        this._getViewInfo();\n\n      // update UI props whitelist for this view\n      const hasReanimated2Props =\n        this.props.animatedProps?.viewDescriptors || styles.length;\n      if (hasReanimated2Props && viewConfig) {\n        adaptViewConfig(viewConfig);\n      }\n\n      // remove old styles\n      if (prevStyles) {\n        // in most of the cases, views have only a single animated style and it remains unchanged\n        const hasOneSameStyle =\n          styles.length === 1 &&\n          prevStyles.length === 1 &&\n          styles[0] === prevStyles[0];\n\n        if (!hasOneSameStyle) {\n          // otherwise, remove each style that is not present in new styles\n          for (const prevStyle of prevStyles) {\n            const isPresent = styles.some((style) => style === prevStyle);\n            if (!isPresent) {\n              prevStyle.viewDescriptors.remove(viewTag);\n            }\n          }\n        }\n      }\n\n      styles.forEach((style) => {\n        style.viewDescriptors.add({\n          tag: viewTag,\n          name: viewName,\n          shadowNodeWrapper,\n        });\n        if (IS_JEST) {\n          /**\n           * We need to connect Jest's TestObject instance whose contains just\n           * props object with the updateProps() function where we update the\n           * properties of the component. We can't update props object directly\n           * because TestObject contains a copy of props - look at render\n           * function: const props = this._filterNonAnimatedProps(this.props);\n           */\n          this.jestAnimatedStyle.value = {\n            ...this.jestAnimatedStyle.value,\n            ...style.initial.value,\n          };\n          style.jestAnimatedStyle.current = this.jestAnimatedStyle;\n        }\n      });\n\n      // detach old animatedProps\n      if (prevAnimatedProps && prevAnimatedProps !== this.props.animatedProps) {\n        prevAnimatedProps.viewDescriptors!.remove(viewTag as number);\n      }\n\n      // attach animatedProps property\n      if (this.props.animatedProps?.viewDescriptors) {\n        this.props.animatedProps.viewDescriptors.add({\n          tag: viewTag as number,\n          name: viewName!,\n          shadowNodeWrapper: shadowNodeWrapper!,\n        });\n      }\n    }\n\n    componentDidUpdate(\n      prevProps: AnimatedComponentProps<InitialComponentProps>,\n      _prevState: Readonly<unknown>,\n      // This type comes straight from React\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      snapshot: DOMRect | null\n    ) {\n      const layout = this.props.layout;\n      const oldLayout = prevProps.layout;\n      if (layout !== oldLayout) {\n        this._configureLayoutTransition();\n      }\n      if (\n        this.props.sharedTransitionTag !== undefined ||\n        prevProps.sharedTransitionTag !== undefined\n      ) {\n        this._configureSharedTransition();\n      }\n      this._NativeEventsManager?.updateEvents(prevProps);\n      this._attachAnimatedStyles();\n      this._InlinePropManager.attachInlineProps(this, this._getViewInfo());\n\n      if (IS_WEB && this.props.exiting) {\n        saveSnapshot(this._componentRef as HTMLElement);\n      }\n\n      // Snapshot won't be undefined because it comes from getSnapshotBeforeUpdate method\n      if (\n        IS_WEB &&\n        snapshot !== null &&\n        this.props.layout &&\n        !getReducedMotionFromConfig(this.props.layout as CustomConfig)\n      ) {\n        tryActivateLayoutTransition(\n          this.props,\n          this._componentRef as ReanimatedHTMLElement,\n          snapshot\n        );\n      }\n    }\n\n    _configureLayoutTransition() {\n      if (IS_WEB) {\n        return;\n      }\n\n      const layout = this.props.layout\n        ? maybeBuild(\n            this.props.layout,\n            undefined /* We don't have to warn user if style has common properties with animation for LAYOUT */,\n            AnimatedComponent.displayName\n          )\n        : undefined;\n      updateLayoutAnimations(\n        this.getComponentViewTag(),\n        LayoutAnimationType.LAYOUT,\n        layout\n      );\n    }\n\n    _configureSharedTransition(isUnmounting = false) {\n      if (IS_WEB) {\n        return;\n      }\n\n      const { sharedTransitionTag } = this.props;\n      if (!sharedTransitionTag) {\n        this._sharedElementTransition?.unregisterTransition(\n          this.getComponentViewTag(),\n          isUnmounting\n        );\n        this._sharedElementTransition = null;\n        return;\n      }\n      const sharedElementTransition =\n        this.props.sharedTransitionStyle ??\n        this._sharedElementTransition ??\n        new SharedTransition();\n      sharedElementTransition.registerTransition(\n        this.getComponentViewTag(),\n        sharedTransitionTag,\n        isUnmounting\n      );\n      this._sharedElementTransition = sharedElementTransition;\n    }\n\n    _resolveComponentRef = (ref: Component | HTMLElement | null) => {\n      const componentRef = ref as AnimatedComponentRef;\n      // Component can specify ref which should be animated when animated version of the component is created.\n      // Otherwise, we animate the component itself.\n      if (componentRef && componentRef.getAnimatableRef) {\n        return componentRef.getAnimatableRef();\n      }\n      return componentRef;\n    };\n\n    _setComponentRef = setAndForwardRef<Component | HTMLElement>({\n      getForwardedRef: () =>\n        this.props.forwardedRef as MutableRefObject<\n          Component<Record<string, unknown>, Record<string, unknown>, unknown>\n        >,\n      setLocalRef: (ref) => {\n        if (!ref) {\n          // component has been unmounted\n          return;\n        }\n        if (ref !== this._componentRef) {\n          this._componentRef = this._resolveComponentRef(ref);\n          // if ref is changed, reset viewInfo\n          this._viewInfo = undefined;\n        }\n        const tag = this.getComponentViewTag();\n\n        const { layout, entering, exiting, sharedTransitionTag } = this.props;\n        if (layout || entering || exiting || sharedTransitionTag) {\n          if (!SHOULD_BE_USE_WEB) {\n            enableLayoutAnimations(true, false);\n          }\n\n          if (sharedTransitionTag) {\n            this._configureSharedTransition();\n          }\n          if (exiting && isFabric()) {\n            const reduceMotionInExiting =\n              'getReduceMotion' in exiting &&\n              typeof exiting.getReduceMotion === 'function'\n                ? getReduceMotionFromConfig(exiting.getReduceMotion())\n                : getReduceMotionFromConfig();\n            if (!reduceMotionInExiting) {\n              updateLayoutAnimations(\n                tag,\n                LayoutAnimationType.EXITING,\n                maybeBuild(\n                  exiting,\n                  this.props?.style,\n                  AnimatedComponent.displayName\n                )\n              );\n            }\n          }\n\n          const skipEntering = this.context?.current;\n          if (entering && !skipEntering && !IS_WEB) {\n            updateLayoutAnimations(\n              tag,\n              LayoutAnimationType.ENTERING,\n              maybeBuild(\n                entering,\n                this.props?.style,\n                AnimatedComponent.displayName\n              )\n            );\n          }\n        }\n      },\n    });\n\n    // This is a component lifecycle method from React, therefore we are not calling it directly.\n    // It is called before the component gets rerendered. This way we can access components' position before it changed\n    // and later on, in componentDidUpdate, calculate translation for layout transition.\n    getSnapshotBeforeUpdate() {\n      if (\n        IS_WEB &&\n        (this._componentRef as HTMLElement)?.getBoundingClientRect !== undefined\n      ) {\n        return (this._componentRef as HTMLElement).getBoundingClientRect();\n      }\n\n      return null;\n    }\n\n    render() {\n      const filteredProps = this._PropsFilter.filterNonAnimatedProps(this);\n\n      if (IS_JEST) {\n        filteredProps.jestAnimatedStyle = this.jestAnimatedStyle;\n      }\n\n      // Layout animations on web are set inside `componentDidMount` method, which is called after first render.\n      // Because of that we can encounter a situation in which component is visible for a short amount of time, and later on animation triggers.\n      // I've tested that on various browsers and devices and it did not happen to me. To be sure that it won't happen to someone else,\n      // I've decided to hide component at first render. Its visibility is reset in `componentDidMount`.\n      if (\n        this._isFirstRender &&\n        IS_WEB &&\n        filteredProps.entering &&\n        !getReducedMotionFromConfig(filteredProps.entering as CustomConfig)\n      ) {\n        filteredProps.style = {\n          ...(filteredProps.style ?? {}),\n          visibility: 'hidden', // Hide component until `componentDidMount` triggers\n        };\n      }\n\n      const platformProps = Platform.select({\n        web: {},\n        default: { collapsable: false },\n      });\n\n      const skipEntering = this.context?.current;\n      const nativeID =\n        skipEntering || !isFabric() ? undefined : `${this.reanimatedID}`;\n\n      const jestProps = IS_JEST\n        ? {\n            jestInlineStyle: this.props.style,\n            jestAnimatedStyle: this.jestAnimatedStyle,\n          }\n        : {};\n\n      return (\n        <Component\n          nativeID={nativeID}\n          {...filteredProps}\n          {...jestProps}\n          // Casting is used here, because ref can be null - in that case it cannot be assigned to HTMLElement.\n          // After spending some time trying to figure out what to do with this problem, we decided to leave it this way\n          ref={this._setComponentRef as (ref: Component) => void}\n          {...platformProps}\n        />\n      );\n    }\n  }\n\n  AnimatedComponent.displayName = `AnimatedComponent(${\n    Component.displayName || Component.name || 'Component'\n  })`;\n\n  return React.forwardRef<Component>((props, ref) => {\n    return (\n      <AnimatedComponent\n        {...props}\n        {...(ref === null ? null : { forwardedRef: ref })}\n      />\n    );\n  });\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}