{"ast":null,"code":"'use strict';\n\nimport { _updatePropsJS } from \"../../js-reanimated/index.js\";\nexport var snapshots = new WeakMap();\nexport function makeElementVisible(element, delay) {\n  if (delay === 0) {\n    _updatePropsJS({\n      visibility: 'initial'\n    }, element);\n  } else {\n    setTimeout(function () {\n      _updatePropsJS({\n        visibility: 'initial'\n      }, element);\n    }, delay * 1000);\n  }\n}\nfunction fixElementPosition(element, parent, snapshot) {\n  var parentRect = parent.getBoundingClientRect();\n  var parentBorderTopValue = parseInt(getComputedStyle(parent).borderTopWidth);\n  var parentBorderLeftValue = parseInt(getComputedStyle(parent).borderLeftWidth);\n  var dummyRect = element.getBoundingClientRect();\n  if (dummyRect.top !== snapshot.top) {\n    element.style.top = \"\".concat(snapshot.top - parentRect.top - parentBorderTopValue, \"px\");\n  }\n  if (dummyRect.left !== snapshot.left) {\n    element.style.left = \"\".concat(snapshot.left - parentRect.left - parentBorderLeftValue, \"px\");\n  }\n}\nexport function setElementPosition(element, snapshot) {\n  element.style.transform = '';\n  element.style.position = 'absolute';\n  element.style.top = \"\".concat(snapshot.top, \"px\");\n  element.style.left = \"\".concat(snapshot.left, \"px\");\n  element.style.width = \"\".concat(snapshot.width, \"px\");\n  element.style.height = \"\".concat(snapshot.height, \"px\");\n  element.style.margin = '0px';\n  if (element.parentElement) {\n    fixElementPosition(element, element.parentElement, snapshot);\n  }\n}","map":{"version":3,"names":["_updatePropsJS","snapshots","WeakMap","makeElementVisible","element","delay","visibility","setTimeout","fixElementPosition","parent","snapshot","parentRect","getBoundingClientRect","parentBorderTopValue","parseInt","getComputedStyle","borderTopWidth","parentBorderLeftValue","borderLeftWidth","dummyRect","top","style","concat","left","setElementPosition","transform","position","width","height","margin","parentElement"],"sources":["C:\\Users\\adenk\\OneDrive - Toi Ohomai Institute of Technology\\Desktop\\test\\node_modules\\react-native-reanimated\\src\\layoutReanimation\\web\\componentStyle.ts"],"sourcesContent":["'use strict';\n\nimport { _updatePropsJS } from '../../js-reanimated';\nimport type { ReanimatedHTMLElement } from '../../js-reanimated';\n\nexport interface ReanimatedSnapshot {\n  top: number;\n  left: number;\n  width: number;\n  height: number;\n  scrollOffsets: ScrollOffsets;\n}\n\nexport interface ScrollOffsets {\n  scrollTopOffset: number;\n  scrollLeftOffset: number;\n}\n\nexport const snapshots = new WeakMap<HTMLElement, ReanimatedSnapshot>();\n\nexport function makeElementVisible(element: HTMLElement, delay: number) {\n  if (delay === 0) {\n    _updatePropsJS({ visibility: 'initial' }, element as ReanimatedHTMLElement);\n  } else {\n    setTimeout(() => {\n      _updatePropsJS(\n        { visibility: 'initial' },\n        element as ReanimatedHTMLElement\n      );\n    }, delay * 1000);\n  }\n}\n\nfunction fixElementPosition(\n  element: HTMLElement,\n  parent: HTMLElement,\n  snapshot: ReanimatedSnapshot\n) {\n  const parentRect = parent.getBoundingClientRect();\n\n  const parentBorderTopValue = parseInt(\n    getComputedStyle(parent).borderTopWidth\n  );\n\n  const parentBorderLeftValue = parseInt(\n    getComputedStyle(parent).borderLeftWidth\n  );\n\n  const dummyRect = element.getBoundingClientRect();\n  // getBoundingClientRect returns DOMRect with position of the element with respect to document body.\n  // However, using position `absolute` doesn't guarantee, that the dummy will be placed relative to body element.\n  // The trick below allows us to once again get position relative to body, by comparing snapshot with new position of the dummy.\n  if (dummyRect.top !== snapshot.top) {\n    element.style.top = `${\n      snapshot.top - parentRect.top - parentBorderTopValue\n    }px`;\n  }\n\n  if (dummyRect.left !== snapshot.left) {\n    element.style.left = `${\n      snapshot.left - parentRect.left - parentBorderLeftValue\n    }px`;\n  }\n}\n\nexport function setElementPosition(\n  element: HTMLElement,\n  snapshot: ReanimatedSnapshot\n) {\n  element.style.transform = '';\n  element.style.position = 'absolute';\n  element.style.top = `${snapshot.top}px`;\n  element.style.left = `${snapshot.left}px`;\n  element.style.width = `${snapshot.width}px`;\n  element.style.height = `${snapshot.height}px`;\n  element.style.margin = '0px'; // tmpElement has absolute position, so margin is not necessary\n\n  if (element.parentElement) {\n    fixElementPosition(element, element.parentElement, snapshot);\n  }\n}\n"],"mappings":"AAAA,YAAY;;AAEZ,SAASA,cAAc;AAgBvB,OAAO,IAAMC,SAAS,GAAG,IAAIC,OAAO,CAAkC,CAAC;AAEvE,OAAO,SAASC,kBAAkBA,CAACC,OAAoB,EAAEC,KAAa,EAAE;EACtE,IAAIA,KAAK,KAAK,CAAC,EAAE;IACfL,cAAc,CAAC;MAAEM,UAAU,EAAE;IAAU,CAAC,EAAEF,OAAgC,CAAC;EAC7E,CAAC,MAAM;IACLG,UAAU,CAAC,YAAM;MACfP,cAAc,CACZ;QAAEM,UAAU,EAAE;MAAU,CAAC,EACzBF,OACF,CAAC;IACH,CAAC,EAAEC,KAAK,GAAG,IAAI,CAAC;EAClB;AACF;AAEA,SAASG,kBAAkBA,CACzBJ,OAAoB,EACpBK,MAAmB,EACnBC,QAA4B,EAC5B;EACA,IAAMC,UAAU,GAAGF,MAAM,CAACG,qBAAqB,CAAC,CAAC;EAEjD,IAAMC,oBAAoB,GAAGC,QAAQ,CACnCC,gBAAgB,CAACN,MAAM,CAAC,CAACO,cAC3B,CAAC;EAED,IAAMC,qBAAqB,GAAGH,QAAQ,CACpCC,gBAAgB,CAACN,MAAM,CAAC,CAACS,eAC3B,CAAC;EAED,IAAMC,SAAS,GAAGf,OAAO,CAACQ,qBAAqB,CAAC,CAAC;EAIjD,IAAIO,SAAS,CAACC,GAAG,KAAKV,QAAQ,CAACU,GAAG,EAAE;IAClChB,OAAO,CAACiB,KAAK,CAACD,GAAG,MAAAE,MAAA,CACfZ,QAAQ,CAACU,GAAG,GAAGT,UAAU,CAACS,GAAG,GAAGP,oBAAoB,OAClD;EACN;EAEA,IAAIM,SAAS,CAACI,IAAI,KAAKb,QAAQ,CAACa,IAAI,EAAE;IACpCnB,OAAO,CAACiB,KAAK,CAACE,IAAI,MAAAD,MAAA,CAChBZ,QAAQ,CAACa,IAAI,GAAGZ,UAAU,CAACY,IAAI,GAAGN,qBAAqB,OACrD;EACN;AACF;AAEA,OAAO,SAASO,kBAAkBA,CAChCpB,OAAoB,EACpBM,QAA4B,EAC5B;EACAN,OAAO,CAACiB,KAAK,CAACI,SAAS,GAAG,EAAE;EAC5BrB,OAAO,CAACiB,KAAK,CAACK,QAAQ,GAAG,UAAU;EACnCtB,OAAO,CAACiB,KAAK,CAACD,GAAG,MAAAE,MAAA,CAAMZ,QAAQ,CAACU,GAAG,OAAI;EACvChB,OAAO,CAACiB,KAAK,CAACE,IAAI,MAAAD,MAAA,CAAMZ,QAAQ,CAACa,IAAI,OAAI;EACzCnB,OAAO,CAACiB,KAAK,CAACM,KAAK,MAAAL,MAAA,CAAMZ,QAAQ,CAACiB,KAAK,OAAI;EAC3CvB,OAAO,CAACiB,KAAK,CAACO,MAAM,MAAAN,MAAA,CAAMZ,QAAQ,CAACkB,MAAM,OAAI;EAC7CxB,OAAO,CAACiB,KAAK,CAACQ,MAAM,GAAG,KAAK;EAE5B,IAAIzB,OAAO,CAAC0B,aAAa,EAAE;IACzBtB,kBAAkB,CAACJ,OAAO,EAAEA,OAAO,CAAC0B,aAAa,EAAEpB,QAAQ,CAAC;EAC9D;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}